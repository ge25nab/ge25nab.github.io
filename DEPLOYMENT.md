# éƒ¨ç½²è¯´æ˜ Deployment Guide

## åŒåŸŸåéƒ¨ç½²è¯´æ˜

æ­¤é¡¹ç›®æ”¯æŒåŒæ—¶éƒ¨ç½²åˆ°ä¸¤ä¸ªåŸŸåï¼š
- **GitHub Pages**: `https://ge25nab.github.io/ge25nab.github.io/`
- **è‡ªå®šä¹‰åŸŸå**: `https://xingcheng-zhou.com/`

## å¿«é€Ÿæ„å»º

### æ„å»ºæ‰€æœ‰ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

åŒæ—¶æ„å»º GitHub Pages å’Œè‡ªå®šä¹‰åŸŸåç‰ˆæœ¬ï¼š

```bash
npm run build:all
```

è¿™ä¼šç”Ÿæˆä¸¤ä¸ªç›®å½•ï¼š
- `out-gh-pages/` - GitHub Pages ç‰ˆæœ¬ï¼ˆbasePath: '/ge25nab.github.io'ï¼‰
- `out-custom-domain/` - è‡ªå®šä¹‰åŸŸåç‰ˆæœ¬ï¼ˆbasePath: ''ï¼‰

### å•ç‹¬æ„å»º

**æ„å»º GitHub Pages ç‰ˆæœ¬ï¼š**
```bash
npm run build:gh-pages
```

**æ„å»ºè‡ªå®šä¹‰åŸŸåç‰ˆæœ¬ï¼š**
```bash
npm run build:custom
```

## é—®é¢˜æ’æŸ¥ Checklist

å¦‚æœè‡ªå®šä¹‰åŸŸå `xingcheng-zhou.com` ä¸Šçš„ layout æ˜¾ç¤ºé”™è¯¯ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š

### âœ… 1. ç¡®è®¤æ„å»ºé…ç½®æ­£ç¡®

**è‡ªå®šä¹‰åŸŸåæ„å»ºï¼ˆé»˜è®¤ï¼‰ï¼š**
```bash
npm run build
```

æ„å»ºæ—¶ä¼šæ˜¾ç¤ºï¼š
```
ğŸ“¦ Build Configuration:
   Domain: xingcheng-zhou.com
   Base Path: (empty - for custom domain)
   Mode: Custom Domain
```

**GitHub Pages æ„å»ºï¼š**
```bash
GITHUB_PAGES=true npm run build
```

### âœ… 2. æ£€æŸ¥æ„å»ºè¾“å‡º

ç¡®è®¤ `out/index.html` ä¸­çš„èµ„æºè·¯å¾„ï¼š
- âœ… æ­£ç¡®ï¼š`href="/_next/static/css/..."` ï¼ˆæ— å‰ç¼€ï¼‰
- âŒ é”™è¯¯ï¼š`href="/ge25nab.github.io/_next/static/css/..."` ï¼ˆæœ‰å‰ç¼€ï¼‰

### âœ… 3. éƒ¨ç½²æ­¥éª¤

#### å¯¹äºè‡ªå®šä¹‰åŸŸå (xingcheng-zhou.com)ï¼š

1. **é‡æ–°æ„å»ºï¼ˆä½¿ç”¨è‡ªå®šä¹‰åŸŸåé…ç½®ï¼‰ï¼š**
   ```bash
   npm run build:custom
   # æˆ–è€…
   npm run build:all  # æ„å»ºæ‰€æœ‰ç‰ˆæœ¬
   ```

2. **æ£€æŸ¥æ„å»ºè¾“å‡ºï¼š**
   - ç¡®è®¤ `out/` æˆ– `out-custom-domain/` ç›®å½•ä¸­çš„æ–‡ä»¶è·¯å¾„æ­£ç¡®
   - CSS è·¯å¾„ï¼š`/_next/static/css/...`ï¼ˆæ— å‰ç¼€ï¼‰
   - JS è·¯å¾„ï¼š`/_next/static/chunks/...`ï¼ˆæ— å‰ç¼€ï¼‰
   - å›¾ç‰‡è·¯å¾„ï¼š`/assets/img/...`ï¼ˆæ— å‰ç¼€ï¼‰

3. **éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼š**
   - å°† `out/` æˆ– `out-custom-domain/` ç›®å½•çš„æ‰€æœ‰å†…å®¹ä¸Šä¼ åˆ°æ‚¨çš„æœåŠ¡å™¨æ ¹ç›®å½•
   - ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½å·²æ­£ç¡®ä¸Šä¼ 

#### å¯¹äº GitHub Pages (ge25nab.github.io/ge25nab.github.io)ï¼š

1. **æ„å»ºï¼ˆé€šè¿‡ GitHub Actions è‡ªåŠ¨æ„å»ºï¼‰ï¼š**
   - GitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²
   - æˆ–è€…æ‰‹åŠ¨æ„å»ºï¼š`npm run build:gh-pages`

2. **æ£€æŸ¥æ„å»ºè¾“å‡ºï¼š**
   - ç¡®è®¤ `out/` æˆ– `out-gh-pages/` ç›®å½•ä¸­çš„æ–‡ä»¶è·¯å¾„æ­£ç¡®
   - CSS è·¯å¾„ï¼š`/ge25nab.github.io/_next/static/css/...`ï¼ˆæœ‰å‰ç¼€ï¼‰
   - JS è·¯å¾„ï¼š`/ge25nab.github.io/_next/static/chunks/...`ï¼ˆæœ‰å‰ç¼€ï¼‰
   - å›¾ç‰‡è·¯å¾„ï¼š`/ge25nab.github.io/assets/img/...`ï¼ˆæœ‰å‰ç¼€ï¼‰

4. **æ¸…é™¤ç¼“å­˜ï¼š**
   - æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCtrl+Shift+R æˆ– Cmd+Shift+Rï¼‰
   - æ¸…é™¤ CDN ç¼“å­˜ï¼ˆå¦‚æœä½¿ç”¨äº† CDNï¼‰
   - æ¸…é™¤æœåŠ¡å™¨ç¼“å­˜

5. **éªŒè¯éƒ¨ç½²ï¼š**
   - æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
   - æ£€æŸ¥ Network æ ‡ç­¾ï¼ŒæŸ¥çœ‹èµ„æºåŠ è½½æƒ…å†µ
   - ç¡®è®¤æ‰€æœ‰ CSS å’Œ JS æ–‡ä»¶éƒ½æˆåŠŸåŠ è½½ï¼ˆçŠ¶æ€ç  200ï¼‰

### âœ… 4. å¸¸è§é—®é¢˜

#### é—®é¢˜ï¼šLayout æ˜¾ç¤ºé”™è¯¯ï¼ŒCSS æœªåŠ è½½

**åŸå› ï¼š**
- éƒ¨ç½²äº†é”™è¯¯çš„æ„å»ºç‰ˆæœ¬ï¼ˆGitHub Pages ç‰ˆæœ¬ï¼‰
- æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æœªæ›´æ–°
- æµè§ˆå™¨/CDN ç¼“å­˜

**è§£å†³æ–¹æ³•ï¼š**
1. ç¡®ä¿ä½¿ç”¨ `npm run build`ï¼ˆä¸ä½¿ç”¨ `GITHUB_PAGES=true`ï¼‰
2. é‡æ–°éƒ¨ç½² `out/` ç›®å½•çš„æ‰€æœ‰å†…å®¹
3. æ¸…é™¤æ‰€æœ‰ç¼“å­˜

#### é—®é¢˜ï¼šå›¾ç‰‡æ— æ³•æ˜¾ç¤º

**åŸå› ï¼š**
- å›¾ç‰‡è·¯å¾„åŒ…å« `/ge25nab.github.io` å‰ç¼€
- å›¾ç‰‡æ–‡ä»¶æœªæ­£ç¡®ä¸Šä¼ 

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ `out/assets/img/` ç›®å½•æ˜¯å¦å­˜åœ¨
2. ç¡®è®¤å›¾ç‰‡è·¯å¾„åœ¨ HTML ä¸­æ˜¯ `/assets/img/...`ï¼ˆæ— å‰ç¼€ï¼‰
3. é‡æ–°ä¸Šä¼ æ‰€æœ‰èµ„æºæ–‡ä»¶

### âœ… 5. éªŒè¯æ¸…å•

éƒ¨ç½²åï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `https://xingcheng-zhou.com/` å¹¶æ£€æŸ¥ï¼š

- [ ] é¡µé¢å†…å®¹æ­£å¸¸æ˜¾ç¤º
- [ ] CSS æ ·å¼æ­£ç¡®åŠ è½½ï¼ˆæ£€æŸ¥ Network ä¸­ CSS æ–‡ä»¶çŠ¶æ€ï¼‰
- [ ] JavaScript æ­£å¸¸å·¥ä½œï¼ˆæ£€æŸ¥ Console æ˜¯å¦æœ‰é”™è¯¯ï¼‰
- [ ] å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º
- [ ] å¯¼èˆªé“¾æ¥æ­£å¸¸å·¥ä½œ

### å¿«é€Ÿä¿®å¤å‘½ä»¤

å¦‚æœéœ€è¦å¿«é€Ÿé‡æ–°æ„å»ºå’Œéƒ¨ç½²ï¼š

```bash
# 1. æ„å»ºæ‰€æœ‰ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
npm run build:all

# 2. æ£€æŸ¥æ„å»ºç»“æœ
ls -la out-gh-pages/     # GitHub Pages ç‰ˆæœ¬
ls -la out-custom-domain/ # è‡ªå®šä¹‰åŸŸåç‰ˆæœ¬

# 3. éƒ¨ç½²åˆ°æœåŠ¡å™¨
# GitHub Pages: GitHub Actions ä¼šè‡ªåŠ¨éƒ¨ç½² out-gh-pages/
# è‡ªå®šä¹‰åŸŸå: å°† out-custom-domain/ ç›®å½•å†…å®¹éƒ¨ç½²åˆ°æœåŠ¡å™¨
# ï¼ˆä½¿ç”¨æ‚¨çš„éƒ¨ç½²å·¥å…·ï¼Œå¦‚ rsync, scp, ftp ç­‰ï¼‰

# æˆ–è€…å•ç‹¬æ„å»ºï¼š
npm run build:gh-pages  # ä»…æ„å»º GitHub Pages ç‰ˆæœ¬
npm run build:custom    # ä»…æ„å»ºè‡ªå®šä¹‰åŸŸåç‰ˆæœ¬
```

---

**æ³¨æ„ï¼š**
- è‡ªå®šä¹‰åŸŸåæ„å»ºï¼š`basePath = ''` ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
- GitHub Pages æ„å»ºï¼š`basePath = '/ge25nab.github.io'`
- é»˜è®¤é…ç½®å·²é€‚é…è‡ªå®šä¹‰åŸŸå `xingcheng-zhou.com`

